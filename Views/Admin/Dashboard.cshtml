@model SafeVault.Models.AdminDashboardViewModel

<section class="dashboard">
    <div class="dashboard-head">
        <div>
            <p class="dashboard-kicker">Admin control</p>
            <h1 class="dashboard-title">Dashboard</h1>
            <p class="dashboard-subtitle">Manage users, access, and security in one view.</p>
        </div>
        <div class="dashboard-actions">
            <a class="btn btn-secondary" href="/admin/audit">View audit report</a>
        </div>
    </div>
    <br />

    <div class="stat-grid">
        <div class="stat-card">
            <span class="stat-label">Total users</span>
            <span class="stat-value">@Model.TotalUsers</span>
            <span class="stat-meta">Admins: @Model.AdminUsers</span>
        </div>
        <div class="stat-card">
            <span class="stat-label">Active (24h)</span>
            <span class="stat-value">@Model.ActiveLast24Hours</span>
            <span class="stat-meta">Last 24 hours</span>
        </div>
        <div class="stat-card">
            <span class="stat-label">New users</span>
            <span class="stat-value">@Model.NewLast7Days</span>
            <span class="stat-meta">Past 7 days</span>
        </div>
    </div>

    <div class="dashboard-panel">
        <div class="panel-head">
            <div>
                <h2>Users</h2>
                <p class="panel-subtitle">All registered accounts.</p>
            </div>
            <span class="panel-count">@Model.Users.Count users</span>
        </div>

        <div class="table-wrap">
            <table class="users-table">
                <thead>
                    <tr>
                        <th>User</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Created</th>
                        <th>Last login</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var user in Model.Users)
                    {
                        var roleClass = user.Role.Equals("Admin", StringComparison.OrdinalIgnoreCase)
                        ? "badge-high"
                        : "badge-low";
                        <tr>
                            <td>
                                <div class="user-name">@user.Username</div>
                                <div class="user-id">ID #@user.UserId</div>
                            </td>
                            <td>@user.Email</td>
                            <td><span class="badge @roleClass">@user.Role</span></td>
                            <td>@user.CreatedAt.ToString("yyyy-MM-dd")</td>
                            <td>@(user.LastLoginAt?.ToString("yyyy-MM-dd HH:mm") ?? "-")</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>